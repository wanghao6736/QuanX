// ==UserScript==
// @ConfigName        QuanX é…ç½®
// @UpdateTime        2022-12-01
// @OriginalAuthor    å…¬ä¼—å·å¢¨é±¼æ‰‹è®°
// @ConfigURL         https://github.com/wanghao6736/QuanX/raw/master/Profile/QuantumultX.conf
// ==/UserScript==

# > å»ºè®®åœ¨ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€å¡«å†™ä½¿ç”¨ä¸‹é¢é“¾æ¥ã€Œä»»é€‰ä¸€ä¸ªã€ï¼Œå¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€
; https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
; https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb


# > è§£é”ç½‘æ˜“äº‘ç°è‰²éŸ³ä¹ï¼Œè·å–è¯ä¹¦é“¾æ¥ 
; https://raw.githubusercontent.com/nondanee/UnblockNeteaseMusic/master/ca.crt
# > å…·ä½“æ“ä½œæ­¥éª¤å¯å‚è€ƒä¸‹é¢è¿™ç¯‡ã€Šåˆ©ç”¨QuantumultXè§£é”ç½‘æ˜“äº‘ä»˜è´¹åŠéç‰ˆæƒéŸ³ä¹ã€‹æ–‡ç« 
; https://mp.weixin.qq.com/s/khPF7ti95o7-foiqiooDow


# > Qureå›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆé»‘ç™½ï¼‰
; https://github.com/Koolson/Qure/raw/master/Other/QureLight-All.json
# > Qureå›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆå½©è‰²ï¼‰
; https://github.com/Koolson/Qure/raw/master/Other/QureColor-All.json
# > Orz-3å›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆmini styleï¼‰
; https://github.com/Orz-3/mini/raw/master/mini.json
# > Orz-3å›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆbig styleï¼‰
; https://github.com/Orz-3/mini/raw/master/Color%2B.json


# > æ¨èä½¿ç”¨çš„æ—§ç‰ˆåº”ç”¨å¦‚ä¸‹é“¾æ¥æ‰€ç¤º
; https://docs.qq.com/sheet/DYmRTQXpVY0hNcGls?tab=y6do1j
# > åˆ©ç”¨æè¿°æ–‡ä»¶å±è”½IOSæ›´æ–°æé†’ï¼ˆå…¼å®¹IOS13ã€14ã€15ï¼‰
; https://app.initnil.com/tvOS.mobileconfig


[general]

# > ç”¨äºèŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
server_check_url= http://www.gstatic.com/generate_204
# > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
# > ç”¨äºè®¾ç½®å›¾æ ‡æ˜¾ç¤º
profile_img_url=https://github.githubassets.com/images/modules/site/integrators/google.png
# > ç”¨äºCheckèŠ‚ç‚¹IPåœ°å€(ä»¥ä¸‹geo_location_checkerä»»é€‰ä¸€ä¸ªå³å¯)
geo_location_checker=disabled
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
# > åŠŸèƒ½å¼ºå¤§çš„è§£æå™¨ï¼Œç”¨äºå¼•ç”¨èµ„æºçš„è½¬æ¢
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# > ä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡QuanXçš„å¤„ç†
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
udp_whitelist=1-442, 444-65535
# > ç¬¬ä¸€ä¸ªfilterä¸º4gæ¨¡å¼å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬äºŒä¸ªfilterä¸ºå…¶ä»–wifiä¸‹å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬ä¸‰ä¸ªwifi1ä¿®æ”¹æˆä½ è·¯ç”±å™¨ç¿»å¢™çš„wifiåå¼€å¯ç›´è¿æ¨¡å¼ï¼Œç¬¬å››ä¸ªwifi2ä¸ºä½ å…¬å¸æˆ–è€…å…¶ä»–æœ‰è·¯ç”±å™¨ç¿»å¢™çš„WiFiåèµ°ç›´è¿ï¼‰
# > é»˜è®¤å…³é—­æ ¹æ®wifiåˆ‡æ¢æ¨¡å¼ï¼Œå¦‚éœ€å¼€å¯ï¼Œåˆ é™¤ä¸‹æ–¹çš„"#"å³å¯
#running_mode_trigger=filter, filter, wifi1:all_direct, wifi2: all_direct
# > dns_exclusion_list
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com


[task_local]

# > è¯·æ‰‹åŠ¨æ·»åŠ ä¸‹é¢çš„è®¢é˜…ï¼ˆæµåª’ä½“Taskè®¢é˜…é›†åˆï¼‰
; https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/UI-Action.json
# > æµåª’ä½“è§£é”æŸ¥è¯¢

# > Bç«™æ¯æ—¥ä»»åŠ¡
30 8 * * * https://raw.githubusercontent.com/ClydeTime/Quantumult/main/Script/Task/BiliBili.js, tag=Bç«™æ¯æ—¥ç­‰çº§ä»»åŠ¡, img-url=https://raw.githubusercontent.com/HuiDoY/Icon/main/mini/Color/bilibili.png, enabled=true

# > å¾çˆ±ç ´è§£ç­¾åˆ°
20 8 * * * https://raw.githubusercontent.com/NobyDa/Script/master/52pojie-DailyBonus/52pojie.js, tag=å¾çˆ±ç ´è§£ç­¾åˆ°, img-url=https://raw.githubusercontent.com/NobyDa/mini/master/Color/52pj.png, enabled=false

# > äº¬ä¸œå¤šåˆä¸€ç­¾åˆ°
5 0 * * * https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js, tag=äº¬ä¸œå¤šåˆä¸€ç­¾åˆ°, img-url=https://raw.githubusercontent.com/NobyDa/mini/master/Color/jd.png, enabled=true

# > ç™¾åº¦è´´å§ç­¾åˆ°
0 9 * * * https://raw.githubusercontent.com/NobyDa/Script/master/BDTieBa-DailyBonus/TieBa.js, tag=ç™¾åº¦è´´å§ç­¾åˆ°, img-url=https://raw.githubusercontent.com/NobyDa/mini/master/Color/tieba.png, enabled=true


[rewrite_local]


[rewrite_remote]

#>>>>>>>>>>>è·å–Cookie
https://raw.githubusercontent.com/wanghao6736/QuanX/master/Rewrite/GetCookie.conf, tag=è·å–Cookie, update-interval=86400, opt-parser=false, enabled=false

#>>>>>>>>>>>è§£é”ä¼šå‘˜
https://raw.githubusercontent.com/wanghao6736/QuanX/master/Rewrite/ForOwnUse.conf, tag=è‡ªç”¨, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.conf, tag=SpotifyéŸ³ä¹VIP@app2smile, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>è½¯ä»¶å¢å¼º
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=å¾®ä¿¡è§£é”è¢«å±è”½çš„URL@zZPiglet, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/Function/BilibiliAutoRegion.conf, tag=Bç«™æ¢åŒºè„šæœ¬@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>è¾…åŠ©å·¥å…·
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=BoxJS@chavyleung, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>åº”ç”¨å»å¹¿å‘Š
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Bilibili.conf, tag=Bç«™å»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/bilibili-qx.conf, tag=Bç«™å»å¹¿å‘Š@app2smile, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_plus.qxrewrite, tag=çŸ¥ä¹å»å¹¿å‘Š@blackmatrix7, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/tieba-qx.conf, tag=è´´å§å»å¹¿å‘Š@app2smile, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/WeChat.conf, tag=å…¬ä¼—å·å»å¹¿å‘Š@ddgksf2013, update-interval=172800, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Applet.conf, tag=å¾®ä¿¡å°ç¨‹åºå»å¹¿å‘Š@ddgksf2013, update-interval=172800, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/YoutubeAds.conf, tag=æ²¹ç®¡å»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zmqcherish/proxy-script/main/weibo.conf, tag=å¾®åšå»å¹¿å‘Š@zmqcherish, update-interval=86400, opt-parser=false, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/WeiboLite.conf, tag=å¾®åšè½»äº«ç‰ˆå»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/StartUp.conf, tag=å»å¼€å±å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>é€šç”¨å»å¹¿å‘Š
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Advertising/Advertising.conf, tag=å»å¹¿å‘Šé‡å†™@blackmatrix7, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=ç¥æœºé‡å®šå‘@DivineEngine, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>ç½‘é¡µä¼˜åŒ–
https://github.com/ddgksf2013/Rewrite/raw/master/Html/WebAdBlock.conf, tag=å½±è§†ç½‘ç«™å»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/Function/Q-Search.conf, tag=Safariè¶…çº§æœç´¢@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>æœªå¯ç”¨çš„é‡å†™
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/JD_TB_price.conf, tag=æ¯”ä»·è„šæœ¬@Orz-3, update-interval=86400, opt-parser=false, enabled=false


[server_local]


[server_remote]


[dns]

prefer-doh3
no-ipv6
no-system
server=223.5.5.5
server=119.29.29.29
server=114.114.114.114
doh-server = https://223.5.5.5/dns-query, https://223.6.6.6/dns-query
server=/*icloud.com/119.29.29.29
server=/*icloud.com.cn/119.29.29.29
server=/*qq.com/119.29.29.29
server=/*tencent.com/119.29.29.29
server=/*weixin.com/119.29.29.29


[policy]

static=å…¨çƒåŠ é€Ÿ, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
static=è‹¹æœæœåŠ¡, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Apple.png
static=æ¸¯å°ç•ªå‰§, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/StreamingSE.png
static=å›½é™…åª’ä½“, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Streaming.png
static=å…œåº•åˆ†æµ, å…¨çƒåŠ é€Ÿ, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png

#ä¼˜é€‰èŠ‚ç‚¹é»˜è®¤æ¯ååˆ†é’Ÿè¿›è¡Œä¸€æ¬¡å»¶è¿Ÿæ£€æµ‹ï¼Œæƒ³æ›´æ¢æ£€æµ‹æ—¶é—´çš„è¯·ä¿®æ”¹check-intervalå‚æ•°
url-latency-benchmark=é¦™æ¸¯èŠ‚ç‚¹, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
url-latency-benchmark=å°æ¹¾èŠ‚ç‚¹, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png
url-latency-benchmark=æ—¥æœ¬èŠ‚ç‚¹, server-tag-regex=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
url-latency-benchmark=ç‹®åŸèŠ‚ç‚¹, server-tag-regex=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
url-latency-benchmark=ç¾å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png


[filter_remote]

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, tag=è§„åˆ™ä¿®æ­£@DivineEngine, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, tag=å¹¿å‘Šæ‹¦æˆª@DivineEngine, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list, tag=å¹¿å‘Šæ‹¦æˆª@DivineEngine, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/AdRule.list, tag=å¹¿å‘Šæ‹¦æˆª@NobyDa, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/rule/tieba-ad-qx.list, tag=è´´å§å¹¿å‘Š@app2smile, force-policy=reject, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, tag=è¿è¥åŠ«æŒ@DivineEngine, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=éšç§ä¿æŠ¤@DivineEngine, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/HK.list, tag=æµåª’ä½“HK@DivineEngine, force-policy=é¦™æ¸¯èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/TW.list, tag=æµåª’ä½“TW@DivineEngine, force-policy=å°æ¹¾èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/JP.list, tag=æµåª’ä½“JP@DivineEngine, force-policy=æ—¥æœ¬èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/US.list, tag=æµåª’ä½“US@DivineEngine, force-policy=ç¾å›½èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list, tag=å›½é™…åª’ä½“@DivineEngine, force-policy=å›½é™…åª’ä½“, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Bilibili.list, tag=æ¸¯å°ç•ªå‰§@NobyDa, force-policy=æ¸¯å°ç•ªå‰§, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, tag=å…¨çƒåŠ é€Ÿ@DivineEngine, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list, tag=è‹¹æœæœåŠ¡@DivineEngine, force-policy=è‹¹æœæœåŠ¡, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list, tag=å›½å†…ç½‘ç«™@DivineEngine, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true


[filter_local]

# > çŸ¥ä¹ADå±è”½,ä»¥ä¸‹è§„åˆ™è¯·æ”¾ç½®åœ¨filter_localæœ€é¡¶éƒ¨
DOMAIN,118.89.204.198,REJECT
DOMAIN-KEYWORD,118.89.204.198,REJECT
IP-CIDR,118.89.204.198/32,REJECT
DOMAIN,appcloud2.in.zhihu.com,REJECT
HOST,mqtt.zhihu.com,reject
HOST,sugar.zhihu.com,reject
USER-AGENT,AVOS*,REJECT

# > Bç«™è‡ªåŠ¨æ¢åŒº
ip-cidr, 203.107.1.1/24, reject

# > local
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
ip-cidr, 182.254.116.0/24, direct
geoip, cn, direct
final, å…œåº•åˆ†æµ


[http_backend]


[mitm]

skip_validating_cert = true
force_sni_domain_name = false

hostname = -weather-data.apple.com, -www.google.com

# ğŸŸ¢ passphraseå’Œp12ä»£ä¸ºè¯ä¹¦&ä¸»æœºåéƒ¨åˆ†, æ›´æ–°é…ç½®å‰å¯æŠŠæ—§çš„é…ç½®ä¸­passphraseå’Œp12ä»£ç æ‹·è´ä¸‹æ¥, å¯¼å…¥æ–°çš„é…ç½®æ–‡ä»¶æŠŠå†…å®¹ç²˜è´´åœ¨å¯¹åº”ä½ç½®å°±ä¸ç”¨é‡è£…è¯ä¹¦